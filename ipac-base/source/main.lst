GAS LISTING C:\Users\Bas\AppData\Local\Temp/ccn3huZ6.s 			page 1


   1               		.file	"main.c"
   2               		.arch atmega2561
   3               	__SREG__ = 0x3f
   4               	__SP_H__ = 0x3e
   5               	__SP_L__ = 0x3d
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               	.global	SysInitIO
  12               		.type	SysInitIO, @function
  13               	SysInitIO:
  14               	/* prologue: frame size=0 */
  15               	/* prologue end (size=0) */
  16 0000 87EF      		ldi r24,lo8(-9)
  17 0002 84B9      		out 36-0x20,r24
  18 0004 8CE0      		ldi r24,lo8(12)
  19 0006 8AB9      		out 42-0x20,r24
  20 0008 8BB1      		in r24,43-0x20
  21 000a 8C70      		andi r24,lo8(12)
  22 000c 836F      		ori r24,lo8(-13)
  23 000e 8BB9      		out 43-0x20,r24
  24 0010 8EE8      		ldi r24,lo8(-114)
  25 0012 8DB9      		out 45-0x20,r24
  26 0014 8EB1      		in r24,46-0x20
  27 0016 8E78      		andi r24,lo8(-114)
  28 0018 8160      		ori r24,lo8(1)
  29 001a 8EB9      		out 46-0x20,r24
  30 001c 85B7      		in r24,85-0x20
  31 001e 8068      		ori r24,lo8(-128)
  32 0020 85BF      		out 85-0x20,r24
  33 0022 85B7      		in r24,85-0x20
  34 0024 8068      		ori r24,lo8(-128)
  35 0026 85BF      		out 85-0x20,r24
  36 0028 8EE0      		ldi r24,lo8(14)
  37 002a 80BB      		out 48-0x20,r24
  38 002c 81B3      		in r24,49-0x20
  39 002e 8E70      		andi r24,lo8(14)
  40 0030 816F      		ori r24,lo8(-15)
  41 0032 81BB      		out 49-0x20,r24
  42 0034 88E1      		ldi r24,lo8(24)
  43 0036 83BB      		out 51-0x20,r24
  44               	/* epilogue: frame size=0 */
  45 0038 0895      		ret
  46               	/* epilogue end (size=1) */
  47               	/* function SysInitIO size 29 (28) */
  48               		.size	SysInitIO, .-SysInitIO
  49               	.global	NutAppMain
  50               		.type	NutAppMain, @function
  51               	NutAppMain:
  52               	/* prologue: frame size=18 */
  53 003a 1F93      		push r17
  54 003c CF93      		push r28
  55 003e DF93      		push r29
  56 0040 CDB7      		in r28,__SP_L__
  57 0042 DEB7      		in r29,__SP_H__
GAS LISTING C:\Users\Bas\AppData\Local\Temp/ccn3huZ6.s 			page 2


  58 0044 6297      		sbiw r28,18
  59 0046 0FB6      		in __tmp_reg__,__SREG__
  60 0048 F894      		cli
  61 004a DEBF      		out __SP_H__,r29
  62 004c 0FBE      		out __SREG__,__tmp_reg__
  63 004e CDBF      		out __SP_L__,r28
  64               	/* prologue end (size=11) */
  65 0050 0E94 0000 		call WatchDogDisable
  66 0054 84E6      		ldi r24,lo8(100)
  67 0056 0E94 0000 		call NutDelay
  68 005a 0E94 0000 		call SysInitIO
  69 005e 0E94 0000 		call SPIinit
  70 0062 0E94 0000 		call Uart0DriverInit
  71 0066 0E94 0000 		call Uart0DriverStart
  72 006a 0E94 0000 		call LogInit
  73 006e 80E0      		ldi r24,lo8(__c.2551)
  74 0070 90E0      		ldi r25,hi8(__c.2551)
  75 0072 9F93      		push r25
  76 0074 8F93      		push r24
  77 0076 16EC      		ldi r17,lo8(-58)
  78 0078 1F93      		push r17
  79 007a 0E94 0000 		call LogMsg_P
  80 007e 0E94 0000 		call X12Init
  81 0082 CE01      		movw r24,r28
  82 0084 0196      		adiw r24,1
  83 0086 0E94 0000 		call X12RtcGetClock
  84 008a 0F90      		pop __tmp_reg__
  85 008c 0F90      		pop __tmp_reg__
  86 008e 0F90      	 	pop __tmp_reg__
  87 0090 892B      		or r24,r25
  88 0092 01F4      		brne .L4
  89 0094 8981      		ldd r24,Y+1
  90 0096 9A81      		ldd r25,Y+2
  91 0098 9F93      		push r25
  92 009a 8F93      		push r24
  93 009c 8B81      		ldd r24,Y+3
  94 009e 9C81      		ldd r25,Y+4
  95 00a0 9F93      		push r25
  96 00a2 8F93      		push r24
  97 00a4 8D81      		ldd r24,Y+5
  98 00a6 9E81      		ldd r25,Y+6
  99 00a8 9F93      		push r25
 100 00aa 8F93      		push r24
 101 00ac 80E0      		ldi r24,lo8(__c.2553)
 102 00ae 90E0      		ldi r25,hi8(__c.2553)
 103 00b0 9F93      		push r25
 104 00b2 8F93      		push r24
 105 00b4 1F93      		push r17
 106 00b6 0E94 0000 		call LogMsg_P
 107 00ba 8DB7      		in r24,__SP_L__
 108 00bc 9EB7      		in r25,__SP_H__
 109 00be 0996      		adiw r24,9
 110 00c0 0FB6      		in __tmp_reg__,__SREG__
 111 00c2 F894      		cli
 112 00c4 9EBF      		out __SP_H__,r25
 113 00c6 0FBE      		out __SREG__,__tmp_reg__
 114 00c8 8DBF      		out __SP_L__,r24
GAS LISTING C:\Users\Bas\AppData\Local\Temp/ccn3huZ6.s 			page 3


 115               	.L4:
 116 00ca 0E94 0000 		call At45dbInit
 117 00ce 0E94 0000 		call CardInit
 118 00d2 0E94 0000 		call RcInit
 119 00d6 0E94 0000 		call KbInit
 120 00da 0E94 0000 		call LedInit
 121 00de 0E94 0000 		call LcdLowLevelInit
 122 00e2 40E0      		ldi r20,lo8(0)
 123 00e4 50E0      		ldi r21,hi8(0)
 124 00e6 60E0      		ldi r22,lo8(gs(SysMainBeatInterrupt))
 125 00e8 70E0      		ldi r23,hi8(gs(SysMainBeatInterrupt))
 126 00ea 80E0      		ldi r24,lo8(sig_OVERFLOW0)
 127 00ec 90E0      		ldi r25,hi8(sig_OVERFLOW0)
 128 00ee 0E94 0000 		call NutRegisterIrqHandler
 129 00f2 892B      		or r24,r25
 130 00f4 01F4      		brne .L6
 131 00f6 85B5      		in r24,69-0x20
 132 00f8 8460      		ori r24,lo8(4)
 133 00fa 85BD      		out 69-0x20,r24
 134 00fc A89A      		sbi 53-0x20,0
 135 00fe 8091 6E00 		lds r24,110
 136 0102 8160      		ori r24,lo8(1)
 137 0104 8093 6E00 		sts 110,r24
 138               	.L6:
 139 0108 81E0      		ldi r24,lo8(1)
 140 010a 0E94 0000 		call NutThreadSetPriority
 141               	/* #APP */
 142 010e 7894      		sei
 143               	/* #NOAPP */
 144               	.L8:
 145 0110 64E6      		ldi r22,lo8(100)
 146 0112 70E0      		ldi r23,hi8(100)
 147 0114 80E0      		ldi r24,hlo8(100)
 148 0116 90E0      		ldi r25,hhi8(100)
 149 0118 0E94 0000 		call NutSleep
 150 011c 0E94 0000 		call KbGetKey
 151 0120 182F      		mov r17,r24
 152 0122 9927      		clr r25
 153 0124 9F93      		push r25
 154 0126 8F93      		push r24
 155 0128 80E0      		ldi r24,lo8(__c.2556)
 156 012a 90E0      		ldi r25,hi8(__c.2556)
 157 012c 9F93      		push r25
 158 012e 8F93      		push r24
 159 0130 86EC      		ldi r24,lo8(-58)
 160 0132 8F93      		push r24
 161 0134 0E94 0000 		call LogMsg_P
 162 0138 0F90      		pop __tmp_reg__
 163 013a 0F90      		pop __tmp_reg__
 164 013c 0F90      		pop __tmp_reg__
 165 013e 0F90      		pop __tmp_reg__
 166 0140 0F90      		pop __tmp_reg__
 167 0142 1838      		cpi r17,lo8(-120)
 168 0144 01F0      		breq .L9
 169 0146 81E0      		ldi r24,lo8(1)
 170 0148 00C0      		rjmp .L13
 171               	.L9:
GAS LISTING C:\Users\Bas\AppData\Local\Temp/ccn3huZ6.s 			page 4


 172 014a 80E0      		ldi r24,lo8(0)
 173               	.L13:
 174 014c 0E94 0000 		call LcdBackLight
 175 0150 0E94 0000 		call WatchDogRestart
 176 0154 00C0      		rjmp .L8
 177               	/* epilogue: frame size=18 */
 178               	/* epilogue: noreturn */
 179               	/* epilogue end (size=0) */
 180               	/* function NutAppMain size 143 (132) */
 181               		.size	NutAppMain, .-NutAppMain
 182               		.type	SysMainBeatInterrupt, @function
 183               	SysMainBeatInterrupt:
 184               	/* prologue: frame size=0 */
 185               	/* prologue end (size=0) */
 186 0156 0E94 0000 		call KbScan
 187 015a 0E94 0000 		call CardCheckCard
 188               	/* epilogue: frame size=0 */
 189 015e 0895      		ret
 190               	/* epilogue end (size=1) */
 191               	/* function SysMainBeatInterrupt size 5 (4) */
 192               		.size	SysMainBeatInterrupt, .-SysMainBeatInterrupt
 193               		.section	.progmem.data,"a",@progbits
 194               		.type	__c.2556, @object
 195               		.size	__c.2556, 19
 196               	__c.2556:
 197 0000 4B65 7920 		.string	"Key Value ... [%d]"
 197      5661 6C75 
 197      6520 2E2E 
 197      2E20 5B25 
 197      645D 00
 198               		.type	__c.2553, @object
 199               		.size	__c.2553, 26
 200               	__c.2553:
 201 0013 5254 4320 		.string	"RTC time [%02d:%02d:%02d]"
 201      7469 6D65 
 201      205B 2530 
 201      3264 3A25 
 201      3032 643A 
 202               		.type	__c.2551, @object
 203               		.size	__c.2551, 12
 204               	__c.2551:
 205 002d 4865 6C6C 		.string	"Hello World"
 205      6F20 576F 
 205      726C 6400 
 206               	/* File "source/main.c": code  177 = 0x00b1 ( 164), prologues  11, epilogues   2 */
GAS LISTING C:\Users\Bas\AppData\Local\Temp/ccn3huZ6.s 			page 5


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\Bas\AppData\Local\Temp/ccn3huZ6.s:3      *ABS*:0000003f __SREG__
C:\Users\Bas\AppData\Local\Temp/ccn3huZ6.s:4      *ABS*:0000003e __SP_H__
C:\Users\Bas\AppData\Local\Temp/ccn3huZ6.s:5      *ABS*:0000003d __SP_L__
C:\Users\Bas\AppData\Local\Temp/ccn3huZ6.s:6      *ABS*:00000000 __tmp_reg__
C:\Users\Bas\AppData\Local\Temp/ccn3huZ6.s:7      *ABS*:00000001 __zero_reg__
C:\Users\Bas\AppData\Local\Temp/ccn3huZ6.s:13     .text:00000000 SysInitIO
C:\Users\Bas\AppData\Local\Temp/ccn3huZ6.s:51     .text:0000003a NutAppMain
C:\Users\Bas\AppData\Local\Temp/ccn3huZ6.s:204    .progmem.data:0000002d __c.2551
C:\Users\Bas\AppData\Local\Temp/ccn3huZ6.s:200    .progmem.data:00000013 __c.2553
C:\Users\Bas\AppData\Local\Temp/ccn3huZ6.s:183    .text:00000156 SysMainBeatInterrupt
C:\Users\Bas\AppData\Local\Temp/ccn3huZ6.s:196    .progmem.data:00000000 __c.2556

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
WatchDogDisable
NutDelay
SPIinit
Uart0DriverInit
Uart0DriverStart
LogInit
LogMsg_P
X12Init
X12RtcGetClock
At45dbInit
CardInit
RcInit
KbInit
LedInit
LcdLowLevelInit
sig_OVERFLOW0
NutRegisterIrqHandler
NutThreadSetPriority
NutSleep
KbGetKey
LcdBackLight
WatchDogRestart
KbScan
CardCheckCard

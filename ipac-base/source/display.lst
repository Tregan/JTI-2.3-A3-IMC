GAS LISTING C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s 			page 1


   1               		.file	"display.c"
   2               		.arch atmega2561
   3               	__SREG__ = 0x3f
   4               	__SP_H__ = 0x3e
   5               	__SP_L__ = 0x3d
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               	.global	LcdBackLight
  12               		.type	LcdBackLight, @function
  13               	LcdBackLight:
  14               	/* prologue: frame size=0 */
  15               	/* prologue end (size=0) */
  16 0000 8130      		cpi r24,lo8(1)
  17 0002 01F4      		brne .L2
  18 0004 739A      		sbi 46-0x20,3
  19 0006 0895      		ret
  20               	.L2:
  21 0008 8823      		tst r24
  22 000a 01F4      		brne .L6
  23 000c 7398      		cbi 46-0x20,3
  24               	.L6:
  25 000e 0895      		ret
  26               	/* epilogue: frame size=0 */
  27               	/* epilogue: noreturn */
  28               	/* epilogue end (size=0) */
  29               	/* function LcdBackLight size 8 (8) */
  30               		.size	LcdBackLight, .-LcdBackLight
  31               		.type	LcdWriteNibble, @function
  32               	LcdWriteNibble:
  33               	/* prologue: frame size=0 */
  34               	/* prologue end (size=0) */
  35 0010 9AB1      		in r25,42-0x20
  36 0012 9F70      		andi r25,lo8(15)
  37 0014 906F      		ori r25,lo8(-16)
  38 0016 9AB9      		out 42-0x20,r25
  39 0018 9BB1      		in r25,43-0x20
  40 001a 9F70      		andi r25,lo8(15)
  41 001c 607F      		andi r22,lo8(-16)
  42 001e 962B      		or r25,r22
  43 0020 9BB9      		out 43-0x20,r25
  44 0022 8230      		cpi r24,lo8(2)
  45 0024 01F4      		brne .L8
  46 0026 8A98      		cbi 49-0x20,2
  47 0028 00C0      		rjmp .L10
  48               	.L8:
  49 002a 8A9A      		sbi 49-0x20,2
  50               	.L10:
  51 002c 729A      		sbi 46-0x20,2
  52               	/* #APP */
  53 002e 0000      		nop
  54 0030 0000      		nop
  55               	/* #NOAPP */
  56 0032 7298      		cbi 46-0x20,2
  57 0034 8A98      		cbi 49-0x20,2
GAS LISTING C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s 			page 2


  58 0036 8AB1      		in r24,42-0x20
  59 0038 8F70      		andi r24,lo8(15)
  60 003a 8AB9      		out 42-0x20,r24
  61 003c 8BB1      		in r24,43-0x20
  62 003e 8F70      		andi r24,lo8(15)
  63 0040 806F      		ori r24,lo8(-16)
  64 0042 8BB9      		out 43-0x20,r24
  65               	/* epilogue: frame size=0 */
  66 0044 0895      		ret
  67               	/* epilogue end (size=1) */
  68               	/* function LcdWriteNibble size 29 (28) */
  69               		.size	LcdWriteNibble, .-LcdWriteNibble
  70               		.type	LcdWriteByte, @function
  71               	LcdWriteByte:
  72               	/* prologue: frame size=0 */
  73 0046 0F93      		push r16
  74 0048 1F93      		push r17
  75               	/* prologue end (size=2) */
  76 004a 082F      		mov r16,r24
  77 004c 162F      		mov r17,r22
  78 004e 8A98      		cbi 49-0x20,2
  79 0050 899A      		sbi 49-0x20,1
  80               	.L13:
  81 0052 729A      		sbi 46-0x20,2
  82               	/* #APP */
  83 0054 0000      		nop
  84 0056 0000      		nop
  85               	/* #NOAPP */
  86 0058 4F99      		sbic 41-0x20,7
  87 005a 00C0      		rjmp .L13
  88 005c 7298      		cbi 46-0x20,2
  89 005e 8A98      		cbi 49-0x20,2
  90 0060 8998      		cbi 49-0x20,1
  91 0062 612F      		mov r22,r17
  92 0064 607F      		andi r22,lo8(-16)
  93 0066 802F      		mov r24,r16
  94 0068 0E94 0000 		call LcdWriteNibble
  95 006c 1295      		swap r17
  96 006e 107F      		andi r17,0xf0
  97 0070 612F      		mov r22,r17
  98 0072 802F      		mov r24,r16
  99 0074 0E94 0000 		call LcdWriteNibble
 100               	/* epilogue: frame size=0 */
 101 0078 1F91      		pop r17
 102 007a 0F91      		pop r16
 103 007c 0895      		ret
 104               	/* epilogue end (size=3) */
 105               	/* function LcdWriteByte size 30 (25) */
 106               		.size	LcdWriteByte, .-LcdWriteByte
 107               	.global	LcdChar
 108               		.type	LcdChar, @function
 109               	LcdChar:
 110               	/* prologue: frame size=0 */
 111               	/* prologue end (size=0) */
 112 007e 682F      		mov r22,r24
 113 0080 83E0      		ldi r24,lo8(3)
 114 0082 0E94 0000 		call LcdWriteByte
GAS LISTING C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s 			page 3


 115               	/* epilogue: frame size=0 */
 116 0086 0895      		ret
 117               	/* epilogue end (size=1) */
 118               	/* function LcdChar size 5 (4) */
 119               		.size	LcdChar, .-LcdChar
 120               	.global	WriteByteToLocation
 121               		.type	WriteByteToLocation, @function
 122               	WriteByteToLocation:
 123               	/* prologue: frame size=0 */
 124 0088 1F93      		push r17
 125               	/* prologue end (size=1) */
 126 008a 162F      		mov r17,r22
 127 008c 682F      		mov r22,r24
 128 008e 82E0      		ldi r24,lo8(2)
 129 0090 0E94 0000 		call LcdWriteByte
 130 0094 612F      		mov r22,r17
 131 0096 83E0      		ldi r24,lo8(3)
 132 0098 0E94 0000 		call LcdWriteByte
 133               	/* epilogue: frame size=0 */
 134 009c 1F91      		pop r17
 135 009e 0895      		ret
 136               	/* epilogue end (size=2) */
 137               	/* function WriteByteToLocation size 12 (9) */
 138               		.size	WriteByteToLocation, .-WriteByteToLocation
 139               	.global	LcdWriteShortTitle
 140               		.type	LcdWriteShortTitle, @function
 141               	LcdWriteShortTitle:
 142               	/* prologue: frame size=0 */
 143 00a0 0F93      		push r16
 144 00a2 1F93      		push r17
 145 00a4 CF93      		push r28
 146 00a6 DF93      		push r29
 147               	/* prologue end (size=4) */
 148 00a8 8C01      		movw r16,r24
 149 00aa EC01      		movw r28,r24
 150 00ac 6991      		ld r22,Y+
 151 00ae 80E8      		ldi r24,lo8(-128)
 152 00b0 0E94 0000 		call WriteByteToLocation
 153 00b4 095F      		subi r16,lo8(-(7))
 154 00b6 1F4F      		sbci r17,hi8(-(7))
 155               	.L23:
 156 00b8 8991      		ld r24,Y+
 157 00ba 8823      		tst r24
 158 00bc 01F0      		breq .L26
 159 00be 0E94 0000 		call LcdChar
 160 00c2 C017      		cp r28,r16
 161 00c4 D107      		cpc r29,r17
 162 00c6 01F4      		brne .L23
 163               	.L26:
 164               	/* epilogue: frame size=0 */
 165 00c8 DF91      		pop r29
 166 00ca CF91      		pop r28
 167 00cc 1F91      		pop r17
 168 00ce 0F91      		pop r16
 169 00d0 0895      		ret
 170               	/* epilogue end (size=5) */
 171               	/* function LcdWriteShortTitle size 25 (16) */
GAS LISTING C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s 			page 4


 172               		.size	LcdWriteShortTitle, .-LcdWriteShortTitle
 173               	.global	LcdWriteShortSecondLine
 174               		.type	LcdWriteShortSecondLine, @function
 175               	LcdWriteShortSecondLine:
 176               	/* prologue: frame size=0 */
 177 00d2 0F93      		push r16
 178 00d4 1F93      		push r17
 179 00d6 CF93      		push r28
 180 00d8 DF93      		push r29
 181               	/* prologue end (size=4) */
 182 00da 8C01      		movw r16,r24
 183 00dc EC01      		movw r28,r24
 184 00de 6991      		ld r22,Y+
 185 00e0 80EC      		ldi r24,lo8(-64)
 186 00e2 0E94 0000 		call WriteByteToLocation
 187 00e6 005F      		subi r16,lo8(-(16))
 188 00e8 1F4F      		sbci r17,hi8(-(16))
 189               	.L29:
 190 00ea 8991      		ld r24,Y+
 191 00ec 8823      		tst r24
 192 00ee 01F0      		breq .L32
 193 00f0 0E94 0000 		call LcdChar
 194 00f4 C017      		cp r28,r16
 195 00f6 D107      		cpc r29,r17
 196 00f8 01F4      		brne .L29
 197               	.L32:
 198               	/* epilogue: frame size=0 */
 199 00fa DF91      		pop r29
 200 00fc CF91      		pop r28
 201 00fe 1F91      		pop r17
 202 0100 0F91      		pop r16
 203 0102 0895      		ret
 204               	/* epilogue end (size=5) */
 205               	/* function LcdWriteShortSecondLine size 25 (16) */
 206               		.size	LcdWriteShortSecondLine, .-LcdWriteShortSecondLine
 207               		.data
 208               	.LC0:
 209 0000 4C63 6442 		.string	"LcdB"
 209      00
 210               		.text
 211               	.global	LcdWriteSecondLine
 212               		.type	LcdWriteSecondLine, @function
 213               	LcdWriteSecondLine:
 214               	/* prologue: frame size=0 */
 215 0104 CF93      		push r28
 216 0106 DF93      		push r29
 217               	/* prologue end (size=2) */
 218 0108 EC01      		movw r28,r24
 219 010a 9093 0000 		sts (secondline)+1,r25
 220 010e 8093 0000 		sts secondline,r24
 221 0112 8091 0000 		lds r24,secondlinebool
 222 0116 9091 0000 		lds r25,(secondlinebool)+1
 223 011a 892B      		or r24,r25
 224 011c 01F4      		brne .L35
 225 011e 81E0      		ldi r24,lo8(1)
 226 0120 0E94 0000 		call NutThreadSetPriority
 227 0124 20E0      		ldi r18,lo8(1024)
GAS LISTING C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s 			page 5


 228 0126 34E0      		ldi r19,hi8(1024)
 229 0128 AE01      		movw r20,r28
 230 012a 60E0      		ldi r22,lo8(gs(SecondLineThread))
 231 012c 70E0      		ldi r23,hi8(gs(SecondLineThread))
 232 012e 80E0      		ldi r24,lo8(.LC0)
 233 0130 90E0      		ldi r25,hi8(.LC0)
 234 0132 0E94 0000 		call NutThreadCreate
 235 0136 80E0      		ldi r24,lo8(0)
 236 0138 0E94 0000 		call NutThreadSetPriority
 237               	.L35:
 238 013c 81E0      		ldi r24,lo8(1)
 239 013e 90E0      		ldi r25,hi8(1)
 240 0140 9093 0000 		sts (secondlinebool)+1,r25
 241 0144 8093 0000 		sts secondlinebool,r24
 242               	/* epilogue: frame size=0 */
 243 0148 DF91      		pop r29
 244 014a CF91      		pop r28
 245 014c 0895      		ret
 246               	/* epilogue end (size=3) */
 247               	/* function LcdWriteSecondLine size 37 (32) */
 248               		.size	LcdWriteSecondLine, .-LcdWriteSecondLine
 249               		.data
 250               	.LC1:
 251 0005 2020 2020 		.string	"                "
 251      2020 2020 
 251      2020 2020 
 251      2020 2020 
 251      00
 252               		.text
 253               	.global	LcdClearLine
 254               		.type	LcdClearLine, @function
 255               	LcdClearLine:
 256               	/* prologue: frame size=0 */
 257               	/* prologue end (size=0) */
 258 014e 80E0      		ldi r24,lo8(.LC1)
 259 0150 90E0      		ldi r25,hi8(.LC1)
 260 0152 0E94 0000 		call LcdWriteSecondLine
 261               	/* epilogue: frame size=0 */
 262 0156 0895      		ret
 263               	/* epilogue end (size=1) */
 264               	/* function LcdClearLine size 5 (4) */
 265               		.size	LcdClearLine, .-LcdClearLine
 266               		.data
 267               	.LC2:
 268 0016 4C63 6441 		.string	"LcdA"
 268      00
 269               		.text
 270               	.global	LcdWriteTitle
 271               		.type	LcdWriteTitle, @function
 272               	LcdWriteTitle:
 273               	/* prologue: frame size=0 */
 274 0158 CF93      		push r28
 275 015a DF93      		push r29
 276               	/* prologue end (size=2) */
 277 015c EC01      		movw r28,r24
 278 015e 9093 0000 		sts (title)+1,r25
 279 0162 8093 0000 		sts title,r24
GAS LISTING C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s 			page 6


 280 0166 8091 0000 		lds r24,titlebool
 281 016a 9091 0000 		lds r25,(titlebool)+1
 282 016e 892B      		or r24,r25
 283 0170 01F4      		brne .L41
 284 0172 81E0      		ldi r24,lo8(1)
 285 0174 0E94 0000 		call NutThreadSetPriority
 286 0178 20E0      		ldi r18,lo8(1024)
 287 017a 34E0      		ldi r19,hi8(1024)
 288 017c AE01      		movw r20,r28
 289 017e 60E0      		ldi r22,lo8(gs(TitleThread))
 290 0180 70E0      		ldi r23,hi8(gs(TitleThread))
 291 0182 80E0      		ldi r24,lo8(.LC2)
 292 0184 90E0      		ldi r25,hi8(.LC2)
 293 0186 0E94 0000 		call NutThreadCreate
 294 018a 80E0      		ldi r24,lo8(0)
 295 018c 0E94 0000 		call NutThreadSetPriority
 296               	.L41:
 297 0190 81E0      		ldi r24,lo8(1)
 298 0192 90E0      		ldi r25,hi8(1)
 299 0194 9093 0000 		sts (titlebool)+1,r25
 300 0198 8093 0000 		sts titlebool,r24
 301               	/* epilogue: frame size=0 */
 302 019c DF91      		pop r29
 303 019e CF91      		pop r28
 304 01a0 0895      		ret
 305               	/* epilogue end (size=3) */
 306               	/* function LcdWriteTitle size 37 (32) */
 307               		.size	LcdWriteTitle, .-LcdWriteTitle
 308               		.data
 309               	.LC3:
 310 001b 2020 2020 		.string	"       "
 310      2020 2000 
 311               		.text
 312               	.global	LcdClearTitle
 313               		.type	LcdClearTitle, @function
 314               	LcdClearTitle:
 315               	/* prologue: frame size=0 */
 316               	/* prologue end (size=0) */
 317 01a2 80E0      		ldi r24,lo8(.LC3)
 318 01a4 90E0      		ldi r25,hi8(.LC3)
 319 01a6 0E94 0000 		call LcdWriteTitle
 320               	/* epilogue: frame size=0 */
 321 01aa 0895      		ret
 322               	/* epilogue end (size=1) */
 323               	/* function LcdClearTitle size 5 (4) */
 324               		.size	LcdClearTitle, .-LcdClearTitle
 325               	.global	LcdClearTitleLine
 326               		.type	LcdClearTitleLine, @function
 327               	LcdClearTitleLine:
 328               	/* prologue: frame size=0 */
 329               	/* prologue end (size=0) */
 330 01ac 0E94 0000 		call LcdClearLine
 331 01b0 0E94 0000 		call LcdClearTitle
 332               	/* epilogue: frame size=0 */
 333 01b4 0895      		ret
 334               	/* epilogue end (size=1) */
 335               	/* function LcdClearTitleLine size 5 (4) */
GAS LISTING C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s 			page 7


 336               		.size	LcdClearTitleLine, .-LcdClearTitleLine
 337               	.global	LcdTimeDisplay
 338               		.type	LcdTimeDisplay, @function
 339               	LcdTimeDisplay:
 340               	/* prologue: frame size=0 */
 341 01b6 EF92      		push r14
 342 01b8 FF92      		push r15
 343 01ba 0F93      		push r16
 344 01bc 1F93      		push r17
 345 01be CF93      		push r28
 346 01c0 DF93      		push r29
 347               	/* prologue end (size=6) */
 348 01c2 8C01      		movw r16,r24
 349 01c4 EC01      		movw r28,r24
 350 01c6 6991      		ld r22,Y+
 351 01c8 88E8      		ldi r24,lo8(-120)
 352 01ca 0E94 0000 		call WriteByteToLocation
 353 01ce 81E0      		ldi r24,lo8(1)
 354 01d0 E82E      		mov r14,r24
 355 01d2 F12C      		mov r15,__zero_reg__
 356 01d4 00C0      		rjmp .L49
 357               	.L50:
 358 01d6 8991      		ld r24,Y+
 359 01d8 0E94 0000 		call LcdChar
 360 01dc 0894      		sec
 361 01de E11C      		adc r14,__zero_reg__
 362 01e0 F11C      		adc r15,__zero_reg__
 363               	.L49:
 364 01e2 F801      		movw r30,r16
 365 01e4 0190      		ld __tmp_reg__,Z+
 366 01e6 0020      		tst __tmp_reg__
 367 01e8 01F4      		brne .-6
 368 01ea 3197      		sbiw r30,1
 369 01ec E01B      		sub r30,r16
 370 01ee F10B      		sbc r31,r17
 371 01f0 EE16      		cp r14,r30
 372 01f2 FF06      		cpc r15,r31
 373 01f4 00F0      		brlo .L50
 374               	/* epilogue: frame size=0 */
 375 01f6 DF91      		pop r29
 376 01f8 CF91      		pop r28
 377 01fa 1F91      		pop r17
 378 01fc 0F91      		pop r16
 379 01fe FF90      		pop r15
 380 0200 EF90      		pop r14
 381 0202 0895      		ret
 382               	/* epilogue end (size=7) */
 383               	/* function LcdTimeDisplay size 39 (26) */
 384               		.size	LcdTimeDisplay, .-LcdTimeDisplay
 385               		.data
 386               	.LC4:
 387 0023 2020 2020 		.string	"        "
 387      2020 2020 
 387      00
 388               		.text
 389               	.global	LcdClearAll
 390               		.type	LcdClearAll, @function
GAS LISTING C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s 			page 8


 391               	LcdClearAll:
 392               	/* prologue: frame size=0 */
 393               	/* prologue end (size=0) */
 394 0204 80E0      		ldi r24,lo8(.LC4)
 395 0206 90E0      		ldi r25,hi8(.LC4)
 396 0208 0E94 0000 		call LcdTimeDisplay
 397 020c 0E94 0000 		call LcdClearTitleLine
 398               	/* epilogue: frame size=0 */
 399 0210 0895      		ret
 400               	/* epilogue end (size=1) */
 401               	/* function LcdClearAll size 7 (6) */
 402               		.size	LcdClearAll, .-LcdClearAll
 403               	.global	LcdLowLevelInit
 404               		.type	LcdLowLevelInit, @function
 405               	LcdLowLevelInit:
 406               	/* prologue: frame size=0 */
 407 0212 1F93      		push r17
 408               	/* prologue end (size=1) */
 409 0214 8CE8      		ldi r24,lo8(-116)
 410 0216 0E94 0000 		call NutDelay
 411 021a 10E0      		ldi r17,lo8(0)
 412               	.L56:
 413 021c 63E3      		ldi r22,lo8(51)
 414 021e 82E0      		ldi r24,lo8(2)
 415 0220 0E94 0000 		call LcdWriteNibble
 416 0224 84E0      		ldi r24,lo8(4)
 417 0226 0E94 0000 		call NutDelay
 418 022a 1F5F      		subi r17,lo8(-(1))
 419 022c 1330      		cpi r17,lo8(3)
 420 022e 01F4      		brne .L56
 421 0230 62E2      		ldi r22,lo8(34)
 422 0232 82E0      		ldi r24,lo8(2)
 423 0234 0E94 0000 		call LcdWriteNibble
 424 0238 81E0      		ldi r24,lo8(1)
 425 023a 0E94 0000 		call NutDelay
 426 023e 68E2      		ldi r22,lo8(40)
 427 0240 82E0      		ldi r24,lo8(2)
 428 0242 0E94 0000 		call LcdWriteByte
 429 0246 85E0      		ldi r24,lo8(5)
 430 0248 0E94 0000 		call NutDelay
 431 024c 6CE0      		ldi r22,lo8(12)
 432 024e 82E0      		ldi r24,lo8(2)
 433 0250 0E94 0000 		call LcdWriteByte
 434 0254 85E0      		ldi r24,lo8(5)
 435 0256 0E94 0000 		call NutDelay
 436 025a 61E0      		ldi r22,lo8(1)
 437 025c 82E0      		ldi r24,lo8(2)
 438 025e 0E94 0000 		call LcdWriteByte
 439 0262 85E0      		ldi r24,lo8(5)
 440 0264 0E94 0000 		call NutDelay
 441 0268 66E0      		ldi r22,lo8(6)
 442 026a 82E0      		ldi r24,lo8(2)
 443 026c 0E94 0000 		call LcdWriteByte
 444 0270 60E8      		ldi r22,lo8(-128)
 445 0272 82E0      		ldi r24,lo8(2)
 446 0274 0E94 0000 		call LcdWriteByte
 447               	/* epilogue: frame size=0 */
GAS LISTING C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s 			page 9


 448 0278 1F91      		pop r17
 449 027a 0895      		ret
 450               	/* epilogue end (size=2) */
 451               	/* function LcdLowLevelInit size 53 (50) */
 452               		.size	LcdLowLevelInit, .-LcdLowLevelInit
 453               	.global	SecondLineThread
 454               		.type	SecondLineThread, @function
 455               	SecondLineThread:
 456               	/* prologue: frame size=16 */
 457 027c CF93      		push r28
 458 027e DF93      		push r29
 459 0280 CDB7      		in r28,__SP_L__
 460 0282 DEB7      		in r29,__SP_H__
 461 0284 6097      		sbiw r28,16
 462 0286 0FB6      		in __tmp_reg__,__SREG__
 463 0288 F894      		cli
 464 028a DEBF      		out __SP_H__,r29
 465 028c 0FBE      		out __SREG__,__tmp_reg__
 466 028e CDBF      		out __SP_L__,r28
 467               	/* prologue end (size=10) */
 468 0290 00E0      		ldi r16,lo8(0)
 469 0292 10E0      		ldi r17,hi8(0)
 470               	.L62:
 471 0294 8091 0000 		lds r24,secondlinebool
 472 0298 9091 0000 		lds r25,(secondlinebool)+1
 473 029c 0197      		sbiw r24,1
 474 029e 01F4      		brne .L63
 475 02a0 82E0      		ldi r24,lo8(2)
 476 02a2 90E0      		ldi r25,hi8(2)
 477 02a4 9093 0000 		sts (secondlinebool)+1,r25
 478 02a8 8093 0000 		sts secondlinebool,r24
 479 02ac 00E0      		ldi r16,lo8(0)
 480 02ae 10E0      		ldi r17,hi8(0)
 481               	.L63:
 482 02b0 A091 0000 		lds r26,secondline
 483 02b4 B091 0000 		lds r27,(secondline)+1
 484 02b8 FD01      		movw r30,r26
 485 02ba 0190      		ld __tmp_reg__,Z+
 486 02bc 0020      		tst __tmp_reg__
 487 02be 01F4      		brne .-6
 488 02c0 3197      		sbiw r30,1
 489 02c2 EA1B      		sub r30,r26
 490 02c4 FB0B      		sbc r31,r27
 491 02c6 7097      		sbiw r30,16
 492 02c8 00F4      		brsh .L65
 493 02ca 80E0      		ldi r24,lo8(.LC1)
 494 02cc 90E0      		ldi r25,hi8(.LC1)
 495 02ce 0E94 0000 		call LcdWriteShortSecondLine
 496 02d2 8091 0000 		lds r24,secondline
 497 02d6 9091 0000 		lds r25,(secondline)+1
 498 02da 0E94 0000 		call LcdWriteShortSecondLine
 499 02de 00C0      		rjmp .L67
 500               	.L65:
 501 02e0 0130      		cpi r16,1
 502 02e2 1105      		cpc r17,__zero_reg__
 503 02e4 01F4      		brne .L68
 504 02e6 60E9      		ldi r22,lo8(400)
GAS LISTING C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s 			page 10


 505 02e8 71E0      		ldi r23,hi8(400)
 506 02ea 80E0      		ldi r24,hlo8(400)
 507 02ec 90E0      		ldi r25,hhi8(400)
 508 02ee 0E94 0000 		call NutSleep
 509               	.L68:
 510 02f2 FE01      		movw r30,r28
 511 02f4 3196      		adiw r30,1
 512 02f6 80E1      		ldi r24,lo8(16)
 513 02f8 DF01      		movw r26,r30
 514 02fa 1D92      		st X+,__zero_reg__
 515 02fc 8A95      	        dec r24
 516 02fe 01F4      		brne .-6
 517 0300 A091 0000 		lds r26,secondline
 518 0304 B091 0000 		lds r27,(secondline)+1
 519 0308 A00F      		add r26,r16
 520 030a B11F      		adc r27,r17
 521 030c 9E01      		movw r18,r28
 522 030e 2F5E      		subi r18,lo8(-(17))
 523 0310 3F4F      		sbci r19,hi8(-(17))
 524 0312 00C0      		rjmp .L70
 525               	.L71:
 526 0314 8D91      		ld r24,X+
 527 0316 8193      		st Z+,r24
 528               	.L70:
 529 0318 E217      		cp r30,r18
 530 031a F307      		cpc r31,r19
 531 031c 01F4      		brne .L71
 532 031e CE01      		movw r24,r28
 533 0320 0196      		adiw r24,1
 534 0322 0E94 0000 		call LcdWriteShortSecondLine
 535 0326 0F5F      		subi r16,lo8(-(1))
 536 0328 1F4F      		sbci r17,hi8(-(1))
 537 032a E091 0000 		lds r30,secondline
 538 032e F091 0000 		lds r31,(secondline)+1
 539 0332 E00F      		add r30,r16
 540 0334 F11F      		adc r31,r17
 541 0336 8785      		ldd r24,Z+15
 542 0338 8823      		tst r24
 543 033a 01F4      		brne .L73
 544 033c 68EE      		ldi r22,lo8(1000)
 545 033e 73E0      		ldi r23,hi8(1000)
 546 0340 80E0      		ldi r24,hlo8(1000)
 547 0342 90E0      		ldi r25,hhi8(1000)
 548 0344 0E94 0000 		call NutSleep
 549 0348 00E0      		ldi r16,lo8(0)
 550 034a 10E0      		ldi r17,hi8(0)
 551               	.L73:
 552 034c 6AE8      		ldi r22,lo8(650)
 553 034e 72E0      		ldi r23,hi8(650)
 554 0350 80E0      		ldi r24,hlo8(650)
 555 0352 90E0      		ldi r25,hhi8(650)
 556 0354 0E94 0000 		call NutSleep
 557               	.L67:
 558 0358 64E6      		ldi r22,lo8(100)
 559 035a 70E0      		ldi r23,hi8(100)
 560 035c 80E0      		ldi r24,hlo8(100)
 561 035e 90E0      		ldi r25,hhi8(100)
GAS LISTING C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s 			page 11


 562 0360 0E94 0000 		call NutSleep
 563 0364 00C0      		rjmp .L62
 564               	/* epilogue: frame size=16 */
 565               	/* epilogue: noreturn */
 566               	/* epilogue end (size=0) */
 567               	/* function SecondLineThread size 119 (109) */
 568               		.size	SecondLineThread, .-SecondLineThread
 569               	.global	TitleThread
 570               		.type	TitleThread, @function
 571               	TitleThread:
 572               	/* prologue: frame size=7 */
 573 0366 CF93      		push r28
 574 0368 DF93      		push r29
 575 036a CDB7      		in r28,__SP_L__
 576 036c DEB7      		in r29,__SP_H__
 577 036e 2797      		sbiw r28,7
 578 0370 0FB6      		in __tmp_reg__,__SREG__
 579 0372 F894      		cli
 580 0374 DEBF      		out __SP_H__,r29
 581 0376 0FBE      		out __SREG__,__tmp_reg__
 582 0378 CDBF      		out __SP_L__,r28
 583               	/* prologue end (size=10) */
 584 037a 00E0      		ldi r16,lo8(0)
 585 037c 10E0      		ldi r17,hi8(0)
 586               	.L77:
 587 037e 8091 0000 		lds r24,titlebool
 588 0382 9091 0000 		lds r25,(titlebool)+1
 589 0386 0197      		sbiw r24,1
 590 0388 01F4      		brne .L78
 591 038a 82E0      		ldi r24,lo8(2)
 592 038c 90E0      		ldi r25,hi8(2)
 593 038e 9093 0000 		sts (titlebool)+1,r25
 594 0392 8093 0000 		sts titlebool,r24
 595 0396 00E0      		ldi r16,lo8(0)
 596 0398 10E0      		ldi r17,hi8(0)
 597               	.L78:
 598 039a A091 0000 		lds r26,title
 599 039e B091 0000 		lds r27,(title)+1
 600 03a2 FD01      		movw r30,r26
 601 03a4 0190      		ld __tmp_reg__,Z+
 602 03a6 0020      		tst __tmp_reg__
 603 03a8 01F4      		brne .-6
 604 03aa 3197      		sbiw r30,1
 605 03ac EA1B      		sub r30,r26
 606 03ae FB0B      		sbc r31,r27
 607 03b0 3797      		sbiw r30,7
 608 03b2 00F4      		brsh .L80
 609 03b4 80E0      		ldi r24,lo8(.LC3)
 610 03b6 90E0      		ldi r25,hi8(.LC3)
 611 03b8 0E94 0000 		call LcdWriteShortTitle
 612 03bc 8091 0000 		lds r24,title
 613 03c0 9091 0000 		lds r25,(title)+1
 614 03c4 0E94 0000 		call LcdWriteShortTitle
 615 03c8 00C0      		rjmp .L82
 616               	.L80:
 617 03ca 0130      		cpi r16,1
 618 03cc 1105      		cpc r17,__zero_reg__
GAS LISTING C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s 			page 12


 619 03ce 01F4      		brne .L83
 620 03d0 60E9      		ldi r22,lo8(400)
 621 03d2 71E0      		ldi r23,hi8(400)
 622 03d4 80E0      		ldi r24,hlo8(400)
 623 03d6 90E0      		ldi r25,hhi8(400)
 624 03d8 0E94 0000 		call NutSleep
 625               	.L83:
 626 03dc FE01      		movw r30,r28
 627 03de 3196      		adiw r30,1
 628 03e0 87E0      		ldi r24,lo8(7)
 629 03e2 DF01      		movw r26,r30
 630 03e4 1D92      		st X+,__zero_reg__
 631 03e6 8A95      	        dec r24
 632 03e8 01F4      		brne .-6
 633 03ea A091 0000 		lds r26,title
 634 03ee B091 0000 		lds r27,(title)+1
 635 03f2 A00F      		add r26,r16
 636 03f4 B11F      		adc r27,r17
 637 03f6 9E01      		movw r18,r28
 638 03f8 285F      		subi r18,lo8(-(8))
 639 03fa 3F4F      		sbci r19,hi8(-(8))
 640 03fc 00C0      		rjmp .L85
 641               	.L86:
 642 03fe 8D91      		ld r24,X+
 643 0400 8193      		st Z+,r24
 644               	.L85:
 645 0402 E217      		cp r30,r18
 646 0404 F307      		cpc r31,r19
 647 0406 01F4      		brne .L86
 648 0408 CE01      		movw r24,r28
 649 040a 0196      		adiw r24,1
 650 040c 0E94 0000 		call LcdWriteShortTitle
 651 0410 0F5F      		subi r16,lo8(-(1))
 652 0412 1F4F      		sbci r17,hi8(-(1))
 653 0414 E091 0000 		lds r30,title
 654 0418 F091 0000 		lds r31,(title)+1
 655 041c E00F      		add r30,r16
 656 041e F11F      		adc r31,r17
 657 0420 8681      		ldd r24,Z+6
 658 0422 8823      		tst r24
 659 0424 01F4      		brne .L88
 660 0426 68EE      		ldi r22,lo8(1000)
 661 0428 73E0      		ldi r23,hi8(1000)
 662 042a 80E0      		ldi r24,hlo8(1000)
 663 042c 90E0      		ldi r25,hhi8(1000)
 664 042e 0E94 0000 		call NutSleep
 665 0432 00E0      		ldi r16,lo8(0)
 666 0434 10E0      		ldi r17,hi8(0)
 667               	.L88:
 668 0436 6AE8      		ldi r22,lo8(650)
 669 0438 72E0      		ldi r23,hi8(650)
 670 043a 80E0      		ldi r24,hlo8(650)
 671 043c 90E0      		ldi r25,hhi8(650)
 672 043e 0E94 0000 		call NutSleep
 673               	.L82:
 674 0442 64E6      		ldi r22,lo8(100)
 675 0444 70E0      		ldi r23,hi8(100)
GAS LISTING C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s 			page 13


 676 0446 80E0      		ldi r24,hlo8(100)
 677 0448 90E0      		ldi r25,hhi8(100)
 678 044a 0E94 0000 		call NutSleep
 679 044e 00C0      		rjmp .L77
 680               	/* epilogue: frame size=7 */
 681               	/* epilogue: noreturn */
 682               	/* epilogue end (size=0) */
 683               	/* function TitleThread size 119 (109) */
 684               		.size	TitleThread, .-TitleThread
 685               	.global	title
 686               	.global	title
 687               		.section .bss
 688               		.type	title, @object
 689               		.size	title, 2
 690               	title:
 691 0000 0000      		.skip 2,0
 692               	.global	secondline
 693               	.global	secondline
 694               		.type	secondline, @object
 695               		.size	secondline, 2
 696               	secondline:
 697 0002 0000      		.skip 2,0
 698               	.global	titlebool
 699               	.global	titlebool
 700               		.type	titlebool, @object
 701               		.size	titlebool, 2
 702               	titlebool:
 703 0004 0000      		.skip 2,0
 704               	.global	secondlinebool
 705               	.global	secondlinebool
 706               		.type	secondlinebool, @object
 707               		.size	secondlinebool, 2
 708               	secondlinebool:
 709 0006 0000      		.skip 2,0
 710               	/* File "source/display.c": code  560 = 0x0230 ( 482), prologues  42, epilogues  36 */
GAS LISTING C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s 			page 14


DEFINED SYMBOLS
                            *ABS*:00000000 display.c
C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s:3      *ABS*:0000003f __SREG__
C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s:4      *ABS*:0000003e __SP_H__
C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s:5      *ABS*:0000003d __SP_L__
C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s:6      *ABS*:00000000 __tmp_reg__
C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s:7      *ABS*:00000001 __zero_reg__
C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s:13     .text:00000000 LcdBackLight
C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s:32     .text:00000010 LcdWriteNibble
C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s:71     .text:00000046 LcdWriteByte
C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s:109    .text:0000007e LcdChar
C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s:122    .text:00000088 WriteByteToLocation
C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s:141    .text:000000a0 LcdWriteShortTitle
C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s:175    .text:000000d2 LcdWriteShortSecondLine
C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s:213    .text:00000104 LcdWriteSecondLine
C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s:696    .bss:00000002 secondline
C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s:708    .bss:00000006 secondlinebool
C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s:455    .text:0000027c SecondLineThread
C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s:255    .text:0000014e LcdClearLine
C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s:272    .text:00000158 LcdWriteTitle
C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s:690    .bss:00000000 title
C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s:702    .bss:00000004 titlebool
C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s:571    .text:00000366 TitleThread
C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s:314    .text:000001a2 LcdClearTitle
C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s:327    .text:000001ac LcdClearTitleLine
C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s:339    .text:000001b6 LcdTimeDisplay
C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s:391    .text:00000204 LcdClearAll
C:\Users\Matthijs\AppData\Local\Temp/ccwegQyS.s:405    .text:00000212 LcdLowLevelInit

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
NutThreadSetPriority
NutThreadCreate
NutDelay
NutSleep
